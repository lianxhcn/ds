<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>17&nbsp; pandas 快速入门 – 数据分析</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../body/01_py_03_matplotlib.html" rel="next">
<link href="../body/01_py_02_numpy_scipy.html" rel="prev">
<link href="../images/ds-book-logo-40.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e8fb9d25728d58bfeac61b497e4a6629.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-8434d2026ae8291579158df2ad8dfa64.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../body/00_py_with_AI_intro.html"><strong>Python 基础</strong></a></li><li class="breadcrumb-item"><a href="../body/01_py_02_pandas.html"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">pandas 快速入门</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="https://book.lianxh.cn/ds/index.html" class="sidebar-logo-link">
      <img src="../images/ds-book-logo-40.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../"></a><a href="../index.html">DS</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://www.lianxh.cn" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-fill"></i></a>
    <a href="https://lianxh-class.cn/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-camera-video-fill"></i></a>
    <a href="https://github.com/arlionn/ds" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">数据分析</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/_home.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">关于我们</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/00_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">前言</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Python 基础</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/00_py_with_AI_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">借助 AI 写代码</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/00_py_with_AI_pic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Ansome Python + AI</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_1_install-Python-Anocanda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Python：安装和环境配置</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_2_install_FAQs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Python 安装常见问题</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_3_markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_01_basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Python 入门</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_01_basic_01_grammer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Python 代码风格</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_01_basic_02_QuickReference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Python 常用命令速查表</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_01_basic_03_Packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Python 常用扩展包</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_01_basic_04_import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Python：import 使用详解</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_01_basic_05_OOP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Python：语法解析-面向对象编程</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_01_basic_06_filepath.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Python 路径设置</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_02_numpy_scipy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">NumPy</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_02_pandas.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">pandas 快速入门</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_03_matplotlib.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Matplotlib简介</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_04_func_and_module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">函数</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/01_py_05_class.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">类和对象</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>数据分析</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/data_02_data_type.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">数据分析是什么？</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/data_02_get_data_GMD.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">获取数据：GMD</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/TS_SZ_index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">上证指数的时序特征</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>可视化</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/graph_01_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Python 可视化：简介</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/graph_dis_box_violin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">箱型图和小提琴图</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/graph_dis_histogram.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">直方图</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/graph_dis_kdensity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">核密度函数图</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>回归分析</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/test_AB_test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">A/B test-分组对照试验</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/regress_01_OLS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">线性回归模型</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/regress_02_wage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">线性回归分析</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/regress_03_binscatter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">分仓散点图</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>时间序列分析</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../body/TS_FRED_US_unemploy_rate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">案例：美国失业率和通胀率关系分析</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>作业展示</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/Dangdang_G7_01_data_clean.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">当当网-G7-01</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/Dangdang_G7_02_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">当当网-G7-02</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/G8_China_stock_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">G8-中国上市公司</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/Stock_G4_01_data_crawler.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">G4-01</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/Stock_G4_02_data_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">G4-02</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/Stock_G4_03_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">G4-03</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/_ex02_万诗晴.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">ex02_万诗晴</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/_ex02_吴倩茵.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">ex02_吴倩茵</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/_ex02_朱少荣.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">ex02_朱少荣</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../homework/pre/_ex02_黄伊姿.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">ex02_黄伊姿</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#目录" id="toc-目录" class="nav-link active" data-scroll-target="#目录"><span class="header-section-number">17.1</span> 目录</a></li>
  <li><a href="#导入-pandas-和-numpy" id="toc-导入-pandas-和-numpy" class="nav-link" data-scroll-target="#导入-pandas-和-numpy"><span class="header-section-number">17.2</span> 导入 pandas 和 numpy</a></li>
  <li><a href="#对象创建" id="toc-对象创建" class="nav-link" data-scroll-target="#对象创建"><span class="header-section-number">17.3</span> 对象创建</a>
  <ul class="collapse">
  <li><a href="#创建-series" id="toc-创建-series" class="nav-link" data-scroll-target="#创建-series"><span class="header-section-number">17.3.1</span> 创建 Series</a></li>
  <li><a href="#创建-dataframe" id="toc-创建-dataframe" class="nav-link" data-scroll-target="#创建-dataframe"><span class="header-section-number">17.3.2</span> 创建 DataFrame</a></li>
  <li><a href="#由-dict-创建-dataframe" id="toc-由-dict-创建-dataframe" class="nav-link" data-scroll-target="#由-dict-创建-dataframe"><span class="header-section-number">17.3.3</span> 由 dict 创建 DataFrame</a></li>
  <li><a href="#查看各列数据类型" id="toc-查看各列数据类型" class="nav-link" data-scroll-target="#查看各列数据类型"><span class="header-section-number">17.3.4</span> 查看各列数据类型</a></li>
  </ul></li>
  <li><a href="#查看数据" id="toc-查看数据" class="nav-link" data-scroll-target="#查看数据"><span class="header-section-number">17.4</span> 查看数据</a>
  <ul class="collapse">
  <li><a href="#查看头尾行" id="toc-查看头尾行" class="nav-link" data-scroll-target="#查看头尾行"><span class="header-section-number">17.4.1</span> 查看头尾行</a></li>
  <li><a href="#显示索引列名和底层-numpy-数据" id="toc-显示索引列名和底层-numpy-数据" class="nav-link" data-scroll-target="#显示索引列名和底层-numpy-数据"><span class="header-section-number">17.4.2</span> 显示索引、列名和底层 numpy 数据</a></li>
  <li><a href="#描述性统计汇总" id="toc-描述性统计汇总" class="nav-link" data-scroll-target="#描述性统计汇总"><span class="header-section-number">17.4.3</span> 描述性统计汇总</a></li>
  <li><a href="#数据转置" id="toc-数据转置" class="nav-link" data-scroll-target="#数据转置"><span class="header-section-number">17.4.4</span> 数据转置</a></li>
  <li><a href="#按轴排序" id="toc-按轴排序" class="nav-link" data-scroll-target="#按轴排序"><span class="header-section-number">17.4.5</span> 按轴排序</a></li>
  </ul></li>
  <li><a href="#选择数据" id="toc-选择数据" class="nav-link" data-scroll-target="#选择数据"><span class="header-section-number">17.5</span> 选择数据</a>
  <ul class="collapse">
  <li><a href="#选择单列" id="toc-选择单列" class="nav-link" data-scroll-target="#选择单列"><span class="header-section-number">17.5.1</span> 选择单列</a></li>
  <li><a href="#通过切片选取多行行标签" id="toc-通过切片选取多行行标签" class="nav-link" data-scroll-target="#通过切片选取多行行标签"><span class="header-section-number">17.5.2</span> 通过切片选取多行（行标签）</a></li>
  <li><a href="#使用标签loc选择" id="toc-使用标签loc选择" class="nav-link" data-scroll-target="#使用标签loc选择"><span class="header-section-number">17.5.3</span> 使用标签（loc）选择</a></li>
  <li><a href="#按位置iloc选取" id="toc-按位置iloc选取" class="nav-link" data-scroll-target="#按位置iloc选取"><span class="header-section-number">17.5.4</span> 按位置（iloc）选取</a></li>
  <li><a href="#布尔索引" id="toc-布尔索引" class="nav-link" data-scroll-target="#布尔索引"><span class="header-section-number">17.5.5</span> 布尔索引</a></li>
  </ul></li>
  <li><a href="#缺失值处理" id="toc-缺失值处理" class="nav-link" data-scroll-target="#缺失值处理"><span class="header-section-number">17.6</span> 缺失值处理</a></li>
  <li><a href="#运算" id="toc-运算" class="nav-link" data-scroll-target="#运算"><span class="header-section-number">17.7</span> 运算</a></li>
  <li><a href="#apply-方法" id="toc-apply-方法" class="nav-link" data-scroll-target="#apply-方法"><span class="header-section-number">17.8</span> Apply 方法</a></li>
  <li><a href="#直方图统计" id="toc-直方图统计" class="nav-link" data-scroll-target="#直方图统计"><span class="header-section-number">17.9</span> 直方图统计</a></li>
  <li><a href="#字符串方法" id="toc-字符串方法" class="nav-link" data-scroll-target="#字符串方法"><span class="header-section-number">17.10</span> 字符串方法</a></li>
  <li><a href="#合并" id="toc-合并" class="nav-link" data-scroll-target="#合并"><span class="header-section-number">17.11</span> 合并</a>
  <ul class="collapse">
  <li><a href="#拼接" id="toc-拼接" class="nav-link" data-scroll-target="#拼接"><span class="header-section-number">17.11.1</span> 拼接</a></li>
  <li><a href="#merge类似-sql-join" id="toc-merge类似-sql-join" class="nav-link" data-scroll-target="#merge类似-sql-join"><span class="header-section-number">17.11.2</span> merge（类似 SQL join）</a></li>
  </ul></li>
  <li><a href="#分组-groupby" id="toc-分组-groupby" class="nav-link" data-scroll-target="#分组-groupby"><span class="header-section-number">17.12</span> 分组 groupby</a></li>
  <li><a href="#reshaping" id="toc-reshaping" class="nav-link" data-scroll-target="#reshaping"><span class="header-section-number">17.13</span> Reshaping</a>
  <ul class="collapse">
  <li><a href="#pivot-tables透视表" id="toc-pivot-tables透视表" class="nav-link" data-scroll-target="#pivot-tables透视表"><span class="header-section-number">17.13.1</span> Pivot tables（透视表）</a></li>
  </ul></li>
  <li><a href="#时间序列" id="toc-时间序列" class="nav-link" data-scroll-target="#时间序列"><span class="header-section-number">17.14</span> 时间序列</a>
  <ul class="collapse">
  <li><a href="#时间区间和频率转换" id="toc-时间区间和频率转换" class="nav-link" data-scroll-target="#时间区间和频率转换"><span class="header-section-number">17.14.1</span> 时间区间和频率转换</a></li>
  </ul></li>
  <li><a href="#categoricals" id="toc-categoricals" class="nav-link" data-scroll-target="#categoricals"><span class="header-section-number">17.15</span> Categoricals</a></li>
  <li><a href="#绘图" id="toc-绘图" class="nav-link" data-scroll-target="#绘图"><span class="header-section-number">17.16</span> 绘图</a></li>
  <li><a href="#数据读写" id="toc-数据读写" class="nav-link" data-scroll-target="#数据读写"><span class="header-section-number">17.17</span> 数据读写</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../body/00_py_with_AI_intro.html"><strong>Python 基础</strong></a></li><li class="breadcrumb-item"><a href="../body/01_py_02_pandas.html"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">pandas 快速入门</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">pandas 快速入门</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>本讲义基于 pandas 官方文档 <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/10min.html">10 Minutes to pandas</a> 编写，结合中文读者习惯进行注释与讲解。</p>
<section id="目录" class="level2" data-number="17.1">
<h2 data-number="17.1" class="anchored" data-anchor-id="目录"><span class="header-section-number">17.1</span> 目录</h2>
<ul>
<li>对象创建</li>
<li>查看数据</li>
<li>选择数据</li>
<li>缺失值处理</li>
<li>运算</li>
<li>数据导入导出</li>
<li>索引</li>
<li>分组</li>
<li>连接</li>
<li>绘图</li>
<li>时间序列</li>
<li>Categorical</li>
<li>Plotting</li>
<li>Getting data in/out</li>
</ul>
</section>
<section id="导入-pandas-和-numpy" class="level2" data-number="17.2">
<h2 data-number="17.2" class="anchored" data-anchor-id="导入-pandas-和-numpy"><span class="header-section-number">17.2</span> 导入 pandas 和 numpy</h2>
<div id="cell-3" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="对象创建" class="level2" data-number="17.3">
<h2 data-number="17.3" class="anchored" data-anchor-id="对象创建"><span class="header-section-number">17.3</span> 对象创建</h2>
<section id="创建-series" class="level3" data-number="17.3.1">
<h3 data-number="17.3.1" class="anchored" data-anchor-id="创建-series"><span class="header-section-number">17.3.1</span> 创建 Series</h3>
<div id="cell-5" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a>s <span class="op">=</span> pd.Series([<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, np.nan, <span class="dv">6</span>, <span class="dv">8</span>])</span>
<span id="cb2-2"><a href="#cb2-2"></a>s</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>0    1.0
1    3.0
2    5.0
3    NaN
4    6.0
5    8.0
dtype: float64</code></pre>
</div>
</div>
</section>
<section id="创建-dataframe" class="level3" data-number="17.3.2">
<h3 data-number="17.3.2" class="anchored" data-anchor-id="创建-dataframe"><span class="header-section-number">17.3.2</span> 创建 DataFrame</h3>
<div id="cell-7" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a>dates <span class="op">=</span> pd.date_range(<span class="st">"20130101"</span>, periods<span class="op">=</span><span class="dv">6</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a>dates</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>DatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04',
               '2013-01-05', '2013-01-06'],
              dtype='datetime64[ns]', freq='D')</code></pre>
</div>
</div>
<div id="cell-8" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a>df <span class="op">=</span> pd.DataFrame(np.random.randn(<span class="dv">6</span>,<span class="dv">4</span>), index<span class="op">=</span>dates, columns<span class="op">=</span><span class="bu">list</span>(<span class="st">"ABCD"</span>))</span>
<span id="cb6-2"><a href="#cb6-2"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
<td>-0.351331</td>
<td>-1.362496</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>1.224852</td>
<td>-0.119387</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
<td>0.023712</td>
<td>1.182711</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
<td>-0.467694</td>
<td>-0.855296</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>-0.257989</td>
<td>-1.401546</td>
<td>1.692584</td>
<td>-0.928318</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="由-dict-创建-dataframe" class="level3" data-number="17.3.3">
<h3 data-number="17.3.3" class="anchored" data-anchor-id="由-dict-创建-dataframe"><span class="header-section-number">17.3.3</span> 由 dict 创建 DataFrame</h3>
<div id="cell-10" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>df2 <span class="op">=</span> pd.DataFrame({</span>
<span id="cb7-2"><a href="#cb7-2"></a>    <span class="st">"A"</span>: <span class="fl">1.</span>,</span>
<span id="cb7-3"><a href="#cb7-3"></a>    <span class="st">"B"</span>: pd.Timestamp(<span class="st">'20130102'</span>),</span>
<span id="cb7-4"><a href="#cb7-4"></a>    <span class="st">"C"</span>: pd.Series(<span class="dv">1</span>, index<span class="op">=</span><span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">4</span>)), dtype<span class="op">=</span><span class="st">"float32"</span>),</span>
<span id="cb7-5"><a href="#cb7-5"></a>    <span class="st">"D"</span>: np.array([<span class="dv">3</span>] <span class="op">*</span> <span class="dv">4</span>, dtype<span class="op">=</span><span class="st">"int32"</span>),</span>
<span id="cb7-6"><a href="#cb7-6"></a>    <span class="st">"E"</span>: pd.Categorical([<span class="st">"test"</span>, <span class="st">"train"</span>, <span class="st">"test"</span>, <span class="st">"train"</span>]),</span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="st">"F"</span>: <span class="st">"foo"</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>})</span>
<span id="cb7-9"><a href="#cb7-9"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
<th data-quarto-table-cell-role="th">E</th>
<th data-quarto-table-cell-role="th">F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>2013-01-02</td>
<td>1.0</td>
<td>3</td>
<td>test</td>
<td>foo</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1.0</td>
<td>2013-01-02</td>
<td>1.0</td>
<td>3</td>
<td>train</td>
<td>foo</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1.0</td>
<td>2013-01-02</td>
<td>1.0</td>
<td>3</td>
<td>test</td>
<td>foo</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1.0</td>
<td>2013-01-02</td>
<td>1.0</td>
<td>3</td>
<td>train</td>
<td>foo</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="查看各列数据类型" class="level3" data-number="17.3.4">
<h3 data-number="17.3.4" class="anchored" data-anchor-id="查看各列数据类型"><span class="header-section-number">17.3.4</span> 查看各列数据类型</h3>
<div id="cell-12" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a>df2.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>A          float64
B    datetime64[s]
C          float32
D            int32
E         category
F           object
dtype: object</code></pre>
</div>
</div>
</section>
</section>
<section id="查看数据" class="level2" data-number="17.4">
<h2 data-number="17.4" class="anchored" data-anchor-id="查看数据"><span class="header-section-number">17.4</span> 查看数据</h2>
<section id="查看头尾行" class="level3" data-number="17.4.1">
<h3 data-number="17.4.1" class="anchored" data-anchor-id="查看头尾行"><span class="header-section-number">17.4.1</span> 查看头尾行</h3>
<div id="cell-14" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
<td>-0.351331</td>
<td>-1.362496</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>1.224852</td>
<td>-0.119387</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
<td>0.023712</td>
<td>1.182711</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
<td>-0.467694</td>
<td>-0.855296</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-15" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a>df.tail(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
<td>0.023712</td>
<td>1.182711</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
<td>-0.467694</td>
<td>-0.855296</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>-0.257989</td>
<td>-1.401546</td>
<td>1.692584</td>
<td>-0.928318</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="显示索引列名和底层-numpy-数据" class="level3" data-number="17.4.2">
<h3 data-number="17.4.2" class="anchored" data-anchor-id="显示索引列名和底层-numpy-数据"><span class="header-section-number">17.4.2</span> 显示索引、列名和底层 numpy 数据</h3>
<div id="cell-17" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a>df.index</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>DatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04',
               '2013-01-05', '2013-01-06'],
              dtype='datetime64[ns]', freq='D')</code></pre>
</div>
</div>
<div id="cell-18" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a>df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>Index(['A', 'B', 'C', 'D'], dtype='object')</code></pre>
</div>
</div>
<div id="cell-19" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a>df.to_numpy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>array([[-0.52058527,  0.48153608, -0.35133101, -1.36249633],
       [ 0.31290141,  1.50718565, -0.65209664,  1.13779112],
       [-0.87323811, -1.8934827 ,  1.22485201, -0.11938684],
       [-0.48861365, -0.17974916,  0.02371156,  1.18271133],
       [ 0.23715514,  0.70976824, -0.46769407, -0.8552958 ],
       [-0.25798935, -1.40154591,  1.69258428, -0.92831789]])</code></pre>
</div>
</div>
</section>
<section id="描述性统计汇总" class="level3" data-number="17.4.3">
<h3 data-number="17.4.3" class="anchored" data-anchor-id="描述性统计汇总"><span class="header-section-number">17.4.3</span> 描述性统计汇总</h3>
<div id="cell-21" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a>df.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>6.000000</td>
<td>6.000000</td>
<td>6.000000</td>
<td>6.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>-0.265062</td>
<td>-0.129381</td>
<td>0.245004</td>
<td>-0.157499</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>0.462917</td>
<td>1.302976</td>
<td>0.977027</td>
<td>1.096220</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>-0.652097</td>
<td>-1.362496</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>-0.512592</td>
<td>-1.096097</td>
<td>-0.438603</td>
<td>-0.910062</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>-0.373301</td>
<td>0.150893</td>
<td>-0.163810</td>
<td>-0.487341</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>0.113369</td>
<td>0.652710</td>
<td>0.924567</td>
<td>0.823497</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>0.312901</td>
<td>1.507186</td>
<td>1.692584</td>
<td>1.182711</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="数据转置" class="level3" data-number="17.4.4">
<h3 data-number="17.4.4" class="anchored" data-anchor-id="数据转置"><span class="header-section-number">17.4.4</span> 数据转置</h3>
<div id="cell-23" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a>df.T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">2013-01-01</th>
<th data-quarto-table-cell-role="th">2013-01-02</th>
<th data-quarto-table-cell-role="th">2013-01-03</th>
<th data-quarto-table-cell-role="th">2013-01-04</th>
<th data-quarto-table-cell-role="th">2013-01-05</th>
<th data-quarto-table-cell-role="th">2013-01-06</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">A</td>
<td>-0.520585</td>
<td>0.312901</td>
<td>-0.873238</td>
<td>-0.488614</td>
<td>0.237155</td>
<td>-0.257989</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">B</td>
<td>0.481536</td>
<td>1.507186</td>
<td>-1.893483</td>
<td>-0.179749</td>
<td>0.709768</td>
<td>-1.401546</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">C</td>
<td>-0.351331</td>
<td>-0.652097</td>
<td>1.224852</td>
<td>0.023712</td>
<td>-0.467694</td>
<td>1.692584</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">D</td>
<td>-1.362496</td>
<td>1.137791</td>
<td>-0.119387</td>
<td>1.182711</td>
<td>-0.855296</td>
<td>-0.928318</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="按轴排序" class="level3" data-number="17.4.5">
<h3 data-number="17.4.5" class="anchored" data-anchor-id="按轴排序"><span class="header-section-number">17.4.5</span> 按轴排序</h3>
<div id="cell-25" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a>df.sort_index(axis<span class="op">=</span><span class="dv">1</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">D</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">A</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-1.362496</td>
<td>-0.351331</td>
<td>0.481536</td>
<td>-0.520585</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>1.137791</td>
<td>-0.652097</td>
<td>1.507186</td>
<td>0.312901</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.119387</td>
<td>1.224852</td>
<td>-1.893483</td>
<td>-0.873238</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>1.182711</td>
<td>0.023712</td>
<td>-0.179749</td>
<td>-0.488614</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>-0.855296</td>
<td>-0.467694</td>
<td>0.709768</td>
<td>0.237155</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>-0.928318</td>
<td>1.692584</td>
<td>-1.401546</td>
<td>-0.257989</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-26" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a>df.sort_values(by<span class="op">=</span><span class="st">"B"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>1.224852</td>
<td>-0.119387</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>-0.257989</td>
<td>-1.401546</td>
<td>1.692584</td>
<td>-0.928318</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
<td>0.023712</td>
<td>1.182711</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
<td>-0.351331</td>
<td>-1.362496</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
<td>-0.467694</td>
<td>-0.855296</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="选择数据" class="level2" data-number="17.5">
<h2 data-number="17.5" class="anchored" data-anchor-id="选择数据"><span class="header-section-number">17.5</span> 选择数据</h2>
<section id="选择单列" class="level3" data-number="17.5.1">
<h3 data-number="17.5.1" class="anchored" data-anchor-id="选择单列"><span class="header-section-number">17.5.1</span> 选择单列</h3>
<div id="cell-28" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a>df[<span class="st">"A"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>2013-01-01   -0.520585
2013-01-02    0.312901
2013-01-03   -0.873238
2013-01-04   -0.488614
2013-01-05    0.237155
2013-01-06   -0.257989
Freq: D, Name: A, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="通过切片选取多行行标签" class="level3" data-number="17.5.2">
<h3 data-number="17.5.2" class="anchored" data-anchor-id="通过切片选取多行行标签"><span class="header-section-number">17.5.2</span> 通过切片选取多行（行标签）</h3>
<div id="cell-30" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a>df[<span class="dv">0</span>:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
<td>-0.351331</td>
<td>-1.362496</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>1.224852</td>
<td>-0.119387</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-31" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a>df[<span class="st">"20130102"</span>:<span class="st">"20130104"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>1.224852</td>
<td>-0.119387</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
<td>0.023712</td>
<td>1.182711</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="使用标签loc选择" class="level3" data-number="17.5.3">
<h3 data-number="17.5.3" class="anchored" data-anchor-id="使用标签loc选择"><span class="header-section-number">17.5.3</span> 使用标签（loc）选择</h3>
<ul>
<li>精确选取行/列</li>
</ul>
<div id="cell-33" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a>df.loc[dates[<span class="dv">0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>A   -0.520585
B    0.481536
C   -0.351331
D   -1.362496
Name: 2013-01-01 00:00:00, dtype: float64</code></pre>
</div>
</div>
<div id="cell-34" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a>df.loc[:, [<span class="st">"A"</span>, <span class="st">"B"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>-0.257989</td>
<td>-1.401546</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-35" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1"></a>df.loc[<span class="st">"20130102"</span>:<span class="st">"20130104"</span>, [<span class="st">"A"</span>, <span class="st">"B"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-36" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a>df.loc[dates[<span class="dv">0</span>], [<span class="st">"A"</span>, <span class="st">"B"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>A   -0.520585
B    0.481536
Name: 2013-01-01 00:00:00, dtype: float64</code></pre>
</div>
</div>
<div id="cell-37" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>df.loc[dates[<span class="dv">0</span>], <span class="st">"A"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>-0.5205852732718299</code></pre>
</div>
</div>
<div id="cell-38" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a>df.at[dates[<span class="dv">0</span>], <span class="st">"A"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>-0.5205852732718299</code></pre>
</div>
</div>
</section>
<section id="按位置iloc选取" class="level3" data-number="17.5.4">
<h3 data-number="17.5.4" class="anchored" data-anchor-id="按位置iloc选取"><span class="header-section-number">17.5.4</span> 按位置（iloc）选取</h3>
<ul>
<li>类似于 numpy 的索引</li>
</ul>
<div id="cell-40" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a>df.iloc[<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>A   -0.488614
B   -0.179749
C    0.023712
D    1.182711
Name: 2013-01-04 00:00:00, dtype: float64</code></pre>
</div>
</div>
<div id="cell-41" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a>df.iloc[<span class="dv">3</span>:<span class="dv">5</span>, <span class="dv">0</span>:<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-42" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1"></a>df.iloc[[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>], [<span class="dv">0</span>,<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>-0.652097</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>1.224852</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>-0.467694</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-43" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a>df.iloc[<span class="dv">1</span>:<span class="dv">3</span>, :]</span>
<span id="cb40-2"><a href="#cb40-2"></a>df.iloc[:, <span class="dv">1</span>:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>0.481536</td>
<td>-0.351331</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>1.507186</td>
<td>-0.652097</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-1.893483</td>
<td>1.224852</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.179749</td>
<td>0.023712</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.709768</td>
<td>-0.467694</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>-1.401546</td>
<td>1.692584</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-44" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a>df.iat[<span class="dv">1</span>, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>1.5071856526966947</code></pre>
</div>
</div>
</section>
<section id="布尔索引" class="level3" data-number="17.5.5">
<h3 data-number="17.5.5" class="anchored" data-anchor-id="布尔索引"><span class="header-section-number">17.5.5</span> 布尔索引</h3>
<ul>
<li>条件筛选</li>
</ul>
<div id="cell-46" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a>df[df[<span class="st">"A"</span>] <span class="op">&gt;</span> <span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
<td>-0.467694</td>
<td>-0.855296</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-47" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1"></a>df[df <span class="op">&gt;</span> <span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>NaN</td>
<td>0.481536</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>NaN</td>
<td>1.137791</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>NaN</td>
<td>NaN</td>
<td>1.224852</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>NaN</td>
<td>NaN</td>
<td>0.023712</td>
<td>1.182711</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>NaN</td>
<td>NaN</td>
<td>1.692584</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-48" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a>df2 <span class="op">=</span> df.copy()</span>
<span id="cb45-2"><a href="#cb45-2"></a>df2[<span class="st">"E"</span>] <span class="op">=</span> [<span class="st">"one"</span>, <span class="st">"one"</span>, <span class="st">"two"</span>, <span class="st">"three"</span>, <span class="st">"four"</span>, <span class="st">"three"</span>]</span>
<span id="cb45-3"><a href="#cb45-3"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
<th data-quarto-table-cell-role="th">E</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
<td>-0.351331</td>
<td>-1.362496</td>
<td>one</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
<td>one</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>1.224852</td>
<td>-0.119387</td>
<td>two</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
<td>0.023712</td>
<td>1.182711</td>
<td>three</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
<td>-0.467694</td>
<td>-0.855296</td>
<td>four</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>-0.257989</td>
<td>-1.401546</td>
<td>1.692584</td>
<td>-0.928318</td>
<td>three</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-49" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a>df2[df2[<span class="st">"E"</span>].isin([<span class="st">"two"</span>, <span class="st">"four"</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
<th data-quarto-table-cell-role="th">E</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>1.224852</td>
<td>-0.119387</td>
<td>two</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>0.237155</td>
<td>0.709768</td>
<td>-0.467694</td>
<td>-0.855296</td>
<td>four</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="缺失值处理" class="level2" data-number="17.6">
<h2 data-number="17.6" class="anchored" data-anchor-id="缺失值处理"><span class="header-section-number">17.6</span> 缺失值处理</h2>
<p>pandas 使用 <code>np.nan</code> 代表缺失值。 可以用 <code>dropna</code> 删除含有缺失值的行，或者用 <code>fillna</code> 填充。</p>
<div id="cell-51" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1"></a>df1 <span class="op">=</span> df.reindex(index<span class="op">=</span>dates[<span class="dv">0</span>:<span class="dv">4</span>], columns<span class="op">=</span><span class="bu">list</span>(df.columns) <span class="op">+</span> [<span class="st">"E"</span>])</span>
<span id="cb47-2"><a href="#cb47-2"></a>df1.loc[dates[<span class="dv">0</span>]:dates[<span class="dv">1</span>], <span class="st">"E"</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>df1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
<th data-quarto-table-cell-role="th">E</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
<td>-0.351331</td>
<td>-1.362496</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>1.224852</td>
<td>-0.119387</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
<td>0.023712</td>
<td>1.182711</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-52" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a>df1.dropna(how<span class="op">=</span><span class="st">"any"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
<th data-quarto-table-cell-role="th">E</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
<td>-0.351331</td>
<td>-1.362496</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
<td>1.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-53" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1"></a>df1.fillna(value<span class="op">=</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
<th data-quarto-table-cell-role="th">E</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
<td>-0.351331</td>
<td>-1.362496</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>0.312901</td>
<td>1.507186</td>
<td>-0.652097</td>
<td>1.137791</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-0.873238</td>
<td>-1.893483</td>
<td>1.224852</td>
<td>-0.119387</td>
<td>5.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-0.488614</td>
<td>-0.179749</td>
<td>0.023712</td>
<td>1.182711</td>
<td>5.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-54" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a>pd.isna(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
<th data-quarto-table-cell-role="th">E</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="运算" class="level2" data-number="17.7">
<h2 data-number="17.7" class="anchored" data-anchor-id="运算"><span class="header-section-number">17.7</span> 运算</h2>
<p>pandas 支持类似 numpy 的各类算术运算，且会自动对齐不同索引。</p>
<div id="cell-56" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1"></a>df.mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>A   -0.265062
B   -0.129381
C    0.245004
D   -0.157499
dtype: float64</code></pre>
</div>
</div>
<div id="cell-57" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1"></a>df.mean(axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>2013-01-01   -0.438219
2013-01-02    0.576445
2013-01-03   -0.415314
2013-01-04    0.134515
2013-01-05   -0.094017
2013-01-06   -0.223817
Freq: D, dtype: float64</code></pre>
</div>
</div>
<div id="cell-58" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a>s <span class="op">=</span> pd.Series([<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, np.nan, <span class="dv">6</span>, <span class="dv">8</span>], index<span class="op">=</span>dates).shift(<span class="dv">2</span>)</span>
<span id="cb55-2"><a href="#cb55-2"></a>df.sub(s, axis<span class="op">=</span><span class="st">"index"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-1.873238</td>
<td>-2.893483</td>
<td>0.224852</td>
<td>-1.119387</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-3.488614</td>
<td>-3.179749</td>
<td>-2.976288</td>
<td>-1.817289</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>-4.762845</td>
<td>-4.290232</td>
<td>-5.467694</td>
<td>-5.855296</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="apply-方法" class="level2" data-number="17.8">
<h2 data-number="17.8" class="anchored" data-anchor-id="apply-方法"><span class="header-section-number">17.8</span> Apply 方法</h2>
<ul>
<li>自定义函数应用于行或列</li>
</ul>
<div id="cell-60" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1"></a>df.<span class="bu">apply</span>(np.cumsum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-01</td>
<td>-0.520585</td>
<td>0.481536</td>
<td>-0.351331</td>
<td>-1.362496</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-02</td>
<td>-0.207684</td>
<td>1.988722</td>
<td>-1.003428</td>
<td>-0.224705</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-03</td>
<td>-1.080922</td>
<td>0.095239</td>
<td>0.221424</td>
<td>-0.344092</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-04</td>
<td>-1.569536</td>
<td>-0.084510</td>
<td>0.245136</td>
<td>0.838619</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2013-01-05</td>
<td>-1.332380</td>
<td>0.625258</td>
<td>-0.222558</td>
<td>-0.016677</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2013-01-06</td>
<td>-1.590370</td>
<td>-0.776288</td>
<td>1.470026</td>
<td>-0.944994</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-61" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a>df.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.<span class="bu">max</span>() <span class="op">-</span> x.<span class="bu">min</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>A    1.186140
B    3.400668
C    2.344681
D    2.545208
dtype: float64</code></pre>
</div>
</div>
</section>
<section id="直方图统计" class="level2" data-number="17.9">
<h2 data-number="17.9" class="anchored" data-anchor-id="直方图统计"><span class="header-section-number">17.9</span> 直方图统计</h2>
<div id="cell-63" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1"></a>s <span class="op">=</span> pd.Series(np.random.randint(<span class="dv">0</span>, <span class="dv">7</span>, size<span class="op">=</span><span class="dv">10</span>))</span>
<span id="cb59-2"><a href="#cb59-2"></a>s.value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>6    5
5    2
3    1
1    1
4    1
Name: count, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="字符串方法" class="level2" data-number="17.10">
<h2 data-number="17.10" class="anchored" data-anchor-id="字符串方法"><span class="header-section-number">17.10</span> 字符串方法</h2>
<ul>
<li>Series 字符串方法自动适配缺失值。</li>
</ul>
<div id="cell-65" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1"></a>s <span class="op">=</span> pd.Series([<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"Aaba"</span>, <span class="st">"Baca"</span>, np.nan, <span class="st">"CABA"</span>, <span class="st">"dog"</span>, <span class="st">"cat"</span>])</span>
<span id="cb61-2"><a href="#cb61-2"></a>s.<span class="bu">str</span>.lower()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>0       a
1       b
2       c
3    aaba
4    baca
5     NaN
6    caba
7     dog
8     cat
dtype: object</code></pre>
</div>
</div>
</section>
<section id="合并" class="level2" data-number="17.11">
<h2 data-number="17.11" class="anchored" data-anchor-id="合并"><span class="header-section-number">17.11</span> 合并</h2>
<section id="拼接" class="level3" data-number="17.11.1">
<h3 data-number="17.11.1" class="anchored" data-anchor-id="拼接"><span class="header-section-number">17.11.1</span> 拼接</h3>
<div id="cell-67" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1"></a>df <span class="op">=</span> pd.DataFrame(np.random.randn(<span class="dv">10</span>, <span class="dv">4</span>))</span>
<span id="cb63-2"><a href="#cb63-2"></a>pieces <span class="op">=</span> [df[:<span class="dv">3</span>], df[<span class="dv">3</span>:<span class="dv">7</span>], df[<span class="dv">7</span>:]]</span>
<span id="cb63-3"><a href="#cb63-3"></a>pd.concat(pieces)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">0</th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">2</th>
<th data-quarto-table-cell-role="th">3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.149451</td>
<td>-1.716458</td>
<td>1.540956</td>
<td>-1.478438</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-0.788580</td>
<td>0.942535</td>
<td>0.860695</td>
<td>1.277974</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1.529843</td>
<td>0.978873</td>
<td>1.681723</td>
<td>0.128001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>-1.031891</td>
<td>-0.645625</td>
<td>-0.101714</td>
<td>-0.894796</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>-1.341019</td>
<td>-0.400039</td>
<td>0.293592</td>
<td>-1.754958</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>-0.018467</td>
<td>-0.688119</td>
<td>0.063590</td>
<td>0.081667</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>0.042298</td>
<td>0.433534</td>
<td>0.509931</td>
<td>0.708851</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>0.631839</td>
<td>1.985047</td>
<td>0.612073</td>
<td>0.114068</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>1.433401</td>
<td>-0.619146</td>
<td>1.581860</td>
<td>-1.031054</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>1.029629</td>
<td>0.266897</td>
<td>-0.649012</td>
<td>0.456147</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="merge类似-sql-join" class="level3" data-number="17.11.2">
<h3 data-number="17.11.2" class="anchored" data-anchor-id="merge类似-sql-join"><span class="header-section-number">17.11.2</span> merge（类似 SQL join）</h3>
<div id="cell-69" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1"></a>left <span class="op">=</span> pd.DataFrame({<span class="st">'key'</span>: [<span class="st">'foo'</span>, <span class="st">'bar'</span>], <span class="st">'lval'</span>: [<span class="dv">1</span>, <span class="dv">2</span>]})</span>
<span id="cb64-2"><a href="#cb64-2"></a>right <span class="op">=</span> pd.DataFrame({<span class="st">'key'</span>: [<span class="st">'foo'</span>, <span class="st">'bar'</span>], <span class="st">'rval'</span>: [<span class="dv">4</span>, <span class="dv">5</span>]})</span>
<span id="cb64-3"><a href="#cb64-3"></a>pd.merge(left, right, on<span class="op">=</span><span class="st">'key'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">key</th>
<th data-quarto-table-cell-role="th">lval</th>
<th data-quarto-table-cell-role="th">rval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>foo</td>
<td>1</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>bar</td>
<td>2</td>
<td>5</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="分组-groupby" class="level2" data-number="17.12">
<h2 data-number="17.12" class="anchored" data-anchor-id="分组-groupby"><span class="header-section-number">17.12</span> 分组 groupby</h2>
<ul>
<li>split-apply-combine</li>
<li>统计、聚合、转换</li>
</ul>
<div id="cell-71" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1"></a>df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb65-2"><a href="#cb65-2"></a>    <span class="st">'A'</span>: [<span class="st">'foo'</span>, <span class="st">'bar'</span>, <span class="st">'foo'</span>, <span class="st">'bar'</span>, <span class="st">'foo'</span>, <span class="st">'bar'</span>, <span class="st">'foo'</span>, <span class="st">'foo'</span>],</span>
<span id="cb65-3"><a href="#cb65-3"></a>    <span class="st">'B'</span>: [<span class="st">'one'</span>, <span class="st">'one'</span>, <span class="st">'two'</span>, <span class="st">'three'</span>, <span class="st">'two'</span>, <span class="st">'two'</span>, <span class="st">'one'</span>, <span class="st">'three'</span>],</span>
<span id="cb65-4"><a href="#cb65-4"></a>    <span class="st">'C'</span>: np.random.randn(<span class="dv">8</span>),</span>
<span id="cb65-5"><a href="#cb65-5"></a>    <span class="st">'D'</span>: np.random.randn(<span class="dv">8</span>)</span>
<span id="cb65-6"><a href="#cb65-6"></a>})</span>
<span id="cb65-7"><a href="#cb65-7"></a>df.groupby(<span class="st">'A'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">bar</td>
<td>onethreetwo</td>
<td>-2.510037</td>
<td>1.483046</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">foo</td>
<td>onetwotwoonethree</td>
<td>2.931827</td>
<td>-2.711364</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-72" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1"></a>df.groupby([<span class="st">'A'</span>, <span class="st">'B'</span>]).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">bar</td>
<td data-quarto-table-cell-role="th">one</td>
<td>-1.279562</td>
<td>-0.243084</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">three</td>
<td>-0.183928</td>
<td>-0.697683</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">two</td>
<td>-1.046547</td>
<td>2.423813</td>
</tr>
<tr class="even">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">foo</td>
<td data-quarto-table-cell-role="th">one</td>
<td>1.735463</td>
<td>-3.088498</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">three</td>
<td>0.289137</td>
<td>0.215364</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">two</td>
<td>0.907227</td>
<td>0.161770</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="reshaping" class="level2" data-number="17.13">
<h2 data-number="17.13" class="anchored" data-anchor-id="reshaping"><span class="header-section-number">17.13</span> Reshaping</h2>
<ul>
<li>Stack/unstack</li>
<li>Pivot tables</li>
</ul>
<div id="cell-74" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1"></a>tuples <span class="op">=</span> <span class="bu">list</span>(<span class="bu">zip</span>(<span class="op">*</span>[[<span class="st">'bar'</span>, <span class="st">'bar'</span>, <span class="st">'baz'</span>, <span class="st">'baz'</span>,</span>
<span id="cb67-2"><a href="#cb67-2"></a>                    <span class="st">'foo'</span>, <span class="st">'foo'</span>, <span class="st">'qux'</span>, <span class="st">'qux'</span>],</span>
<span id="cb67-3"><a href="#cb67-3"></a>                   [<span class="st">'one'</span>, <span class="st">'two'</span>, <span class="st">'one'</span>, <span class="st">'two'</span>,</span>
<span id="cb67-4"><a href="#cb67-4"></a>                    <span class="st">'one'</span>, <span class="st">'two'</span>, <span class="st">'one'</span>, <span class="st">'two'</span>]]))</span>
<span id="cb67-5"><a href="#cb67-5"></a>index <span class="op">=</span> pd.MultiIndex.from_tuples(tuples, names<span class="op">=</span>[<span class="st">'first'</span>, <span class="st">'second'</span>])</span>
<span id="cb67-6"><a href="#cb67-6"></a>df <span class="op">=</span> pd.DataFrame(np.random.randn(<span class="dv">8</span>, <span class="dv">2</span>), index<span class="op">=</span>index, columns<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>])</span>
<span id="cb67-7"><a href="#cb67-7"></a>df2 <span class="op">=</span> df[:<span class="dv">4</span>]</span>
<span id="cb67-8"><a href="#cb67-8"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">first</th>
<th data-quarto-table-cell-role="th">second</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">bar</td>
<td data-quarto-table-cell-role="th">one</td>
<td>1.185040</td>
<td>0.718365</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">two</td>
<td>0.680732</td>
<td>0.058235</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">baz</td>
<td data-quarto-table-cell-role="th">one</td>
<td>1.726562</td>
<td>-0.828623</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">two</td>
<td>-0.362360</td>
<td>0.716046</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-75" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1"></a>stacked <span class="op">=</span> df2.stack()</span>
<span id="cb68-2"><a href="#cb68-2"></a>stacked</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<pre><code>first  second   
bar    one     A    1.185040
               B    0.718365
       two     A    0.680732
               B    0.058235
baz    one     A    1.726562
               B   -0.828623
       two     A   -0.362360
               B    0.716046
dtype: float64</code></pre>
</div>
</div>
<div id="cell-76" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1"></a>stacked.unstack()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">first</th>
<th data-quarto-table-cell-role="th">second</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">bar</td>
<td data-quarto-table-cell-role="th">one</td>
<td>1.185040</td>
<td>0.718365</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">two</td>
<td>0.680732</td>
<td>0.058235</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">baz</td>
<td data-quarto-table-cell-role="th">one</td>
<td>1.726562</td>
<td>-0.828623</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">two</td>
<td>-0.362360</td>
<td>0.716046</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-77" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1"></a>stacked.unstack(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">second</th>
<th data-quarto-table-cell-role="th">one</th>
<th data-quarto-table-cell-role="th">two</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">first</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">bar</td>
<td data-quarto-table-cell-role="th">A</td>
<td>1.185040</td>
<td>0.680732</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">B</td>
<td>0.718365</td>
<td>0.058235</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">baz</td>
<td data-quarto-table-cell-role="th">A</td>
<td>1.726562</td>
<td>-0.362360</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">B</td>
<td>-0.828623</td>
<td>0.716046</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-78" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1"></a>stacked.unstack(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">first</th>
<th data-quarto-table-cell-role="th">bar</th>
<th data-quarto-table-cell-role="th">baz</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">second</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">one</td>
<td data-quarto-table-cell-role="th">A</td>
<td>1.185040</td>
<td>1.726562</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">B</td>
<td>0.718365</td>
<td>-0.828623</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">two</td>
<td data-quarto-table-cell-role="th">A</td>
<td>0.680732</td>
<td>-0.362360</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">B</td>
<td>0.058235</td>
<td>0.716046</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="pivot-tables透视表" class="level3" data-number="17.13.1">
<h3 data-number="17.13.1" class="anchored" data-anchor-id="pivot-tables透视表"><span class="header-section-number">17.13.1</span> Pivot tables（透视表）</h3>
<div id="cell-80" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1"></a>df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb73-2"><a href="#cb73-2"></a>    <span class="st">"A"</span>: [<span class="st">"one"</span>, <span class="st">"one"</span>, <span class="st">"two"</span>, <span class="st">"three"</span>] <span class="op">*</span> <span class="dv">3</span>,</span>
<span id="cb73-3"><a href="#cb73-3"></a>    <span class="st">"B"</span>: [<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>] <span class="op">*</span> <span class="dv">4</span>,</span>
<span id="cb73-4"><a href="#cb73-4"></a>    <span class="st">"C"</span>: np.random.randn(<span class="dv">12</span>),</span>
<span id="cb73-5"><a href="#cb73-5"></a>    <span class="st">"D"</span>: np.random.randn(<span class="dv">12</span>)</span>
<span id="cb73-6"><a href="#cb73-6"></a>})</span>
<span id="cb73-7"><a href="#cb73-7"></a>pd.pivot_table(df, values<span class="op">=</span><span class="st">'D'</span>, index<span class="op">=</span>[<span class="st">'A'</span>, <span class="st">'B'</span>], columns<span class="op">=</span>[<span class="st">'C'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">-1.269507</th>
<th data-quarto-table-cell-role="th">-1.163112</th>
<th data-quarto-table-cell-role="th">-0.359637</th>
<th data-quarto-table-cell-role="th">-0.353797</th>
<th data-quarto-table-cell-role="th">-0.100903</th>
<th data-quarto-table-cell-role="th">0.162224</th>
<th data-quarto-table-cell-role="th">0.385348</th>
<th data-quarto-table-cell-role="th">0.504784</th>
<th data-quarto-table-cell-role="th">0.538580</th>
<th data-quarto-table-cell-role="th">0.647929</th>
<th data-quarto-table-cell-role="th">1.090241</th>
<th data-quarto-table-cell-role="th">2.017582</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">one</td>
<td data-quarto-table-cell-role="th">A</td>
<td>NaN</td>
<td>NaN</td>
<td>-0.374013</td>
<td>NaN</td>
<td>0.191885</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">B</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>-0.837664</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>-0.53223</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">C</td>
<td>0.069504</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1.184217</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">three</td>
<td data-quarto-table-cell-role="th">A</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.025075</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">B</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>-0.050209</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">C</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>-0.813397</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">two</td>
<td data-quarto-table-cell-role="th">A</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1.881732</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">B</td>
<td>NaN</td>
<td>-1.001614</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">C</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>-0.216438</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="时间序列" class="level2" data-number="17.14">
<h2 data-number="17.14" class="anchored" data-anchor-id="时间序列"><span class="header-section-number">17.14</span> 时间序列</h2>
<div id="cell-82" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1"></a>rng <span class="op">=</span> pd.date_range(<span class="st">'1/1/2012'</span>, periods<span class="op">=</span><span class="dv">100</span>, freq<span class="op">=</span><span class="st">'S'</span>)</span>
<span id="cb74-2"><a href="#cb74-2"></a>ts <span class="op">=</span> pd.Series(np.random.randint(<span class="dv">0</span>, <span class="dv">500</span>, <span class="bu">len</span>(rng)), index<span class="op">=</span>rng)</span>
<span id="cb74-3"><a href="#cb74-3"></a>ts.resample(<span class="st">'5Min'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\Administrator\AppData\Local\Temp\ipykernel_56080\2503940574.py:1: FutureWarning: 'S' is deprecated and will be removed in a future version, please use 's' instead.
  rng = pd.date_range('1/1/2012', periods=100, freq='S')</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>2012-01-01    24577
Freq: 5min, dtype: int32</code></pre>
</div>
</div>
<div id="cell-83" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1"></a>rng <span class="op">=</span> pd.date_range(<span class="st">'3/6/2012 00:00'</span>, periods<span class="op">=</span><span class="dv">5</span>, freq<span class="op">=</span><span class="st">'D'</span>)</span>
<span id="cb77-2"><a href="#cb77-2"></a>ts <span class="op">=</span> pd.Series(np.random.randn(<span class="bu">len</span>(rng)), rng)</span>
<span id="cb77-3"><a href="#cb77-3"></a>ts_utc <span class="op">=</span> ts.tz_localize(<span class="st">'UTC'</span>)</span>
<span id="cb77-4"><a href="#cb77-4"></a>ts_utc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<pre><code>2012-03-06 00:00:00+00:00   -0.960792
2012-03-07 00:00:00+00:00   -2.119477
2012-03-08 00:00:00+00:00   -0.038033
2012-03-09 00:00:00+00:00   -0.125605
2012-03-10 00:00:00+00:00   -0.893517
Freq: D, dtype: float64</code></pre>
</div>
</div>
<div id="cell-84" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1"></a>ts_utc.tz_convert(<span class="st">'US/Eastern'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<pre><code>2012-03-05 19:00:00-05:00   -0.960792
2012-03-06 19:00:00-05:00   -2.119477
2012-03-07 19:00:00-05:00   -0.038033
2012-03-08 19:00:00-05:00   -0.125605
2012-03-09 19:00:00-05:00   -0.893517
Freq: D, dtype: float64</code></pre>
</div>
</div>
<section id="时间区间和频率转换" class="level3" data-number="17.14.1">
<h3 data-number="17.14.1" class="anchored" data-anchor-id="时间区间和频率转换"><span class="header-section-number">17.14.1</span> 时间区间和频率转换</h3>
<div id="cell-86" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1"></a>rng <span class="op">=</span> pd.date_range(<span class="st">'1/1/2012'</span>, periods<span class="op">=</span><span class="dv">5</span>, freq<span class="op">=</span><span class="st">'M'</span>)</span>
<span id="cb81-2"><a href="#cb81-2"></a>ts <span class="op">=</span> pd.Series(np.random.randn(<span class="bu">len</span>(rng)), index<span class="op">=</span>rng)</span>
<span id="cb81-3"><a href="#cb81-3"></a>ts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\Administrator\AppData\Local\Temp\ipykernel_56080\3446765465.py:1: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  rng = pd.date_range('1/1/2012', periods=5, freq='M')</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>2012-01-31   -0.054797
2012-02-29    1.442388
2012-03-31    0.846941
2012-04-30    0.750070
2012-05-31   -0.466189
Freq: ME, dtype: float64</code></pre>
</div>
</div>
<div id="cell-87" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1"></a>ps <span class="op">=</span> ts.to_period()</span>
<span id="cb84-2"><a href="#cb84-2"></a>ps</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>2012-01   -0.054797
2012-02    1.442388
2012-03    0.846941
2012-04    0.750070
2012-05   -0.466189
Freq: M, dtype: float64</code></pre>
</div>
</div>
<div id="cell-88" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1"></a>ps.to_timestamp()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<pre><code>2012-01-01   -0.054797
2012-02-01    1.442388
2012-03-01    0.846941
2012-04-01    0.750070
2012-05-01   -0.466189
Freq: MS, dtype: float64</code></pre>
</div>
</div>
<div id="cell-89" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1"></a>prng <span class="op">=</span> pd.period_range(<span class="st">'1990Q1'</span>, <span class="st">'2000Q4'</span>, freq<span class="op">=</span><span class="st">'Q-NOV'</span>)</span>
<span id="cb88-2"><a href="#cb88-2"></a>ts <span class="op">=</span> pd.Series(np.random.randn(<span class="bu">len</span>(prng)), index<span class="op">=</span>prng)</span>
<span id="cb88-3"><a href="#cb88-3"></a>ts.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<pre><code>1990Q1   -0.275693
1990Q2   -1.237097
1990Q3    0.617560
1990Q4    1.263013
1991Q1   -1.938149
Freq: Q-NOV, dtype: float64</code></pre>
</div>
</div>
<div id="cell-90" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1"></a>ts.index <span class="op">=</span> ts.index.asfreq(<span class="st">'M'</span>, how<span class="op">=</span><span class="st">'end'</span>)</span>
<span id="cb90-2"><a href="#cb90-2"></a>ts.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>1990-02   -0.275693
1990-05   -1.237097
1990-08    0.617560
1990-11    1.263013
1991-02   -1.938149
Freq: M, dtype: float64</code></pre>
</div>
</div>
</section>
</section>
<section id="categoricals" class="level2" data-number="17.15">
<h2 data-number="17.15" class="anchored" data-anchor-id="categoricals"><span class="header-section-number">17.15</span> Categoricals</h2>
<div id="cell-92" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">"id"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>],</span>
<span id="cb92-2"><a href="#cb92-2"></a>                   <span class="st">"raw_grade"</span>: [<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"b"</span>, <span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"e"</span>]})</span>
<span id="cb92-3"><a href="#cb92-3"></a>df[<span class="st">"grade"</span>] <span class="op">=</span> df[<span class="st">"raw_grade"</span>].astype(<span class="st">"category"</span>)</span>
<span id="cb92-4"><a href="#cb92-4"></a>df[<span class="st">"grade"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<pre><code>0    a
1    b
2    b
3    a
4    a
5    e
Name: grade, dtype: category
Categories (3, object): ['a', 'b', 'e']</code></pre>
</div>
</div>
<div id="cell-93" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1"></a>df[<span class="st">"grade"</span>] <span class="op">=</span> df[<span class="st">"grade"</span>].cat.set_categories([<span class="st">"very good"</span>, <span class="st">"good"</span>, <span class="st">"very bad"</span>])</span>
<span id="cb94-2"><a href="#cb94-2"></a>df[<span class="st">"grade"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="71">
<pre><code>0    NaN
1    NaN
2    NaN
3    NaN
4    NaN
5    NaN
Name: grade, dtype: category
Categories (3, object): ['very good', 'good', 'very bad']</code></pre>
</div>
</div>
<div id="cell-94" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1"></a>df[<span class="st">"grade"</span>] <span class="op">=</span> df[<span class="st">"grade"</span>].cat.set_categories([<span class="st">"very bad"</span>, <span class="st">"bad"</span>, <span class="st">"medium"</span>, <span class="st">"good"</span>, <span class="st">"very good"</span>])</span>
<span id="cb96-2"><a href="#cb96-2"></a>df[<span class="st">"grade"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<pre><code>0    NaN
1    NaN
2    NaN
3    NaN
4    NaN
5    NaN
Name: grade, dtype: category
Categories (5, object): ['very bad', 'bad', 'medium', 'good', 'very good']</code></pre>
</div>
</div>
<div id="cell-95" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1"></a>df.sort_values(by<span class="op">=</span><span class="st">"grade"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">raw_grade</th>
<th data-quarto-table-cell-role="th">grade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>a</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>b</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>b</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>a</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5</td>
<td>a</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>6</td>
<td>e</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-96" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1"></a>df.groupby(<span class="st">"grade"</span>).size()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\Administrator\AppData\Local\Temp\ipykernel_56080\3951628473.py:1: FutureWarning: The default of observed=False is deprecated and will be changed to True in a future version of pandas. Pass observed=False to retain current behavior or observed=True to adopt the future default and silence this warning.
  df.groupby("grade").size()</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="74">
<pre><code>grade
very bad     0
bad          0
medium       0
good         0
very good    0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="绘图" class="level2" data-number="17.16">
<h2 data-number="17.16" class="anchored" data-anchor-id="绘图"><span class="header-section-number">17.16</span> 绘图</h2>
<p>pandas 集成了 Matplotlib，可直接用 <code>.plot()</code> 快速画图。</p>
<div id="cell-98" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb102-2"><a href="#cb102-2"></a><span class="im">import</span> warnings</span>
<span id="cb102-3"><a href="#cb102-3"></a></span>
<span id="cb102-4"><a href="#cb102-4"></a><span class="cf">with</span> warnings.catch_warnings():</span>
<span id="cb102-5"><a href="#cb102-5"></a>    warnings.simplefilter(<span class="st">"ignore"</span>)</span>
<span id="cb102-6"><a href="#cb102-6"></a>    ts <span class="op">=</span> pd.Series(np.random.randn(<span class="dv">1000</span>), index<span class="op">=</span>pd.date_range(<span class="st">'1/1/2000'</span>, periods<span class="op">=</span><span class="dv">1000</span>))</span>
<span id="cb102-7"><a href="#cb102-7"></a>    ts <span class="op">=</span> ts.cumsum()</span>
<span id="cb102-8"><a href="#cb102-8"></a>    ts.plot()</span>
<span id="cb102-9"><a href="#cb102-9"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_py_02_pandas_files/figure-html/cell-69-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-99" class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1"></a>df <span class="op">=</span> pd.DataFrame(np.random.randn(<span class="dv">1000</span>, <span class="dv">4</span>), index<span class="op">=</span>ts.index, columns<span class="op">=</span><span class="bu">list</span>(<span class="st">"ABCD"</span>))</span>
<span id="cb103-2"><a href="#cb103-2"></a>df <span class="op">=</span> df.cumsum()</span>
<span id="cb103-3"><a href="#cb103-3"></a>df.plot()</span>
<span id="cb103-4"><a href="#cb103-4"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\ProgramData\anaconda3\Lib\site-packages\IPython\core\pylabtools.py:170: UserWarning: Glyph 26376 (\N{CJK UNIFIED IDEOGRAPH-6708}) missing from font(s) DejaVu Sans.
  fig.canvas.print_figure(bytes_io, **kw)
c:\ProgramData\anaconda3\Lib\site-packages\IPython\core\pylabtools.py:170: UserWarning: Glyph 26376 (\N{CJK UNIFIED IDEOGRAPH-6708}) missing from font(s) DejaVu Sans.
  fig.canvas.print_figure(bytes_io, **kw)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="01_py_02_pandas_files/figure-html/cell-70-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="数据读写" class="level2" data-number="17.17">
<h2 data-number="17.17" class="anchored" data-anchor-id="数据读写"><span class="header-section-number">17.17</span> 数据读写</h2>
<ul>
<li>支持多种格式导入导出：CSV, HDF5, Excel, SQL, JSON 等</li>
</ul>
<div id="cell-101" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1"></a><span class="co"># 写入 CSV</span></span>
<span id="cb105-2"><a href="#cb105-2"></a>df.to_csv(<span class="st">'foo.csv'</span>)</span>
<span id="cb105-3"><a href="#cb105-3"></a><span class="co"># 读取 CSV</span></span>
<span id="cb105-4"><a href="#cb105-4"></a>pd.read_csv(<span class="st">'foo.csv'</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Unnamed: 0</th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2000-01-01</td>
<td>-0.332295</td>
<td>0.167448</td>
<td>1.819971</td>
<td>0.262984</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2000-01-02</td>
<td>-1.154339</td>
<td>-0.795782</td>
<td>1.476187</td>
<td>-0.507846</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2000-01-03</td>
<td>-0.130460</td>
<td>0.149241</td>
<td>1.797390</td>
<td>0.417354</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2000-01-04</td>
<td>-1.573087</td>
<td>0.423807</td>
<td>1.720803</td>
<td>-0.492286</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2000-01-05</td>
<td>-1.842675</td>
<td>0.541527</td>
<td>1.728333</td>
<td>-1.907499</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-102" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1"></a><span class="co"># 写入 Excel</span></span>
<span id="cb106-2"><a href="#cb106-2"></a>df.to_excel(<span class="st">'foo.xlsx'</span>, sheet_name<span class="op">=</span><span class="st">'Sheet1'</span>)</span>
<span id="cb106-3"><a href="#cb106-3"></a><span class="co"># 读取 Excel</span></span>
<span id="cb106-4"><a href="#cb106-4"></a>pd.read_excel(<span class="st">'foo.xlsx'</span>, <span class="st">'Sheet1'</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="80">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Unnamed: 0</th>
<th data-quarto-table-cell-role="th">A</th>
<th data-quarto-table-cell-role="th">B</th>
<th data-quarto-table-cell-role="th">C</th>
<th data-quarto-table-cell-role="th">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2000-01-01</td>
<td>-0.332295</td>
<td>0.167448</td>
<td>1.819971</td>
<td>0.262984</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2000-01-02</td>
<td>-1.154339</td>
<td>-0.795782</td>
<td>1.476187</td>
<td>-0.507846</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2000-01-03</td>
<td>-0.130460</td>
<td>0.149241</td>
<td>1.797390</td>
<td>0.417354</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2000-01-04</td>
<td>-1.573087</td>
<td>0.423807</td>
<td>1.720803</td>
<td>-0.492286</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2000-01-05</td>
<td>-1.842675</td>
<td>0.541527</td>
<td>1.728333</td>
<td>-1.907499</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/book\.lianxh\.cn\/ds\/index\.html");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../body/01_py_02_numpy_scipy.html" class="pagination-link" aria-label="NumPy">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">NumPy</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../body/01_py_03_matplotlib.html" class="pagination-link" aria-label="Matplotlib简介">
        <span class="nav-page-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Matplotlib简介</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p><a href="https://www.lianxh.cn">www.lianxh.cn</a></p>
</div>
    <div class="nav-footer-right">
<p>Support: <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>